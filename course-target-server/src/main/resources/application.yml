server:
  port: 8088
  servlet:
    context-path: /fmk   

spring:
  application:
    name: course-target-server

  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: Asia/Shanghai
    serialization:
      write-dates-as-timestamps: false
    deserialization:
      fail-on-unknown-properties: false

  # MySQL + Druid
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/course_target?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: oneapr
    password: "123456"
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000

  # Redis
  data:
    redis:
      host: localhost
      port: 6379
      database: 0
      timeout: 10000ms

  # Servlet 文件上传限制
  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 50MB

# MyBatis-Plus
mybatis-plus:
  mapper-locations: classpath:mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
    # 控制台打印 SQL（推荐在开发环境使用）
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# Knife4j 访问地址：http://localhost:8088/doc.html
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
  api-docs:
    path: /v3/api-docs
  group-configs:
    - group: '全部接口'
      paths-to-match: '/**'
      packages-to-scan: com.fmk.cource.controller




      
knife4j:
  enable: true
  setting:
    language: zh_cn

# JWT 配置
jwt:
  secret: fmkCourseTargetSystemSecretKey2024FmkCourseTargetSystemSecretKey
  expiration: 86400000  # 24小时 (毫秒)
  header: Authorization
  prefix: "Bearer "

# 文件上传配置
file:
  upload:
    base-dir: uploads          # 相对项目运行目录：course-target-server/uploads/
    prefix: fmk                # 最终路径：uploads/fmk{yyyyMMddHHmm}/

# 日志配置

logging:
  file:
    # 放在 course-target-server 这个目录，文件名为 course-target-server.log
    name: course-target-server/logs/${spring.application.name}.log
  logback:
    rollingpolicy:
      max-file-size: 50MB       # 单个日志文件最大大小，超过会生成新文件
      max-history: 30           # 历史日志最多保留 30 天
      total-size-cap: 2GB       # 所有日志文件总大小上限
  level:
    root: info                  # 全局默认日志级别
    com.fmk.cource: debug       # 开启你的业务包的 Debug 级别，方便查看详细信息